<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Project/PHP/PHPProject.php to edit this template
-->
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRp8IZri7lNVbmMGt1tRY0XX46IyFFbCCzAQTj7xbgggzY537D61mvSbPmDMS3VNWz-aBM&usqp=CAU">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amatic+SC">
        <meta charset="UTF-8">
        <title>Zona Admin</title>
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">



        <style>
            * {    
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                text-decoration: none;
            }
            
            body {
                background-image: url('https://i.pinimg.com/originals/f5/f3/56/f5f356d842b829d0845872369b068fe6.jpg');
            }
            
            body, html {height: 100%}
            body,h1,h2,h3,h4,h5,h6 {font-family: "Amatic SC", sans-serif}
            .menu {display: none}
            .bgimg {
              background-repeat: no-repeat;
              background-size: cover;
              min-height: 95%;
            }
            
            .w3-button-form {
                width: 33%;
                margin-bottom: 10px;
            }
            
            hr {
                border-top: 1px solid #c9c9c9;
            }
            
            input, select {
                margin-top: 18px;
                width: 50%;
                height: 50%;
            }
            
            h3 {
                margin-right: 15px;
            }

        </style>
    </head>
    <body>
        <div class="w3-top w3-hide-small" style="">
            <div class="w3-bar w3-xlarge w3-black w3-opacity w3-hover-opacity-off" id="myNavbar">
                <div class="w3-cell-row">
                  <div class="w3-container w3-cell w3-left">
                    <a href="/web#" class="w3-bar-item w3-button">HOME</a>
                    <a href="/web#menu" class="w3-bar-item w3-button">MENU</a>
                    <a href="/web#about" class="w3-bar-item w3-button">MI TIENDA</a>
                  </div>

                  <div class="w3-container w3-cell w3-right">
                    <a href="/logout" class="w3-bar-item w3-button"><i class="material-icons">&#xe80e;</i> LOGIN / CERRAR SESIÓN </a>
                    <a href="/admin" class="w3-bar-item w3-button"><i class='fa-solid fa-lock' style='font-size:21px;'></i> ZONA ADMIN </a>
                  </div>
                  
                </div>
            </div>
        </div>
                  
        <main style="display:flex; justify-content: center; padding-top: 150px">
            <div class="w3-container w3-card-4 w3-white" style="width: 60%; border-radius: 20px">
                <h1 class="w3-center"><b>Zona Admin</b></h1>
                <hr>

                <h3 class="w3-center"><b>Productos</b></h3>
                
                <div class="w3-center" style="padding-bottom: 20px; display: flex; flex-direction: row; justify-content: space-between; flex-wrap: wrap;">
                    <button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-button-form w3-black w3-ripple"> Añadir producto al formulario </button>
                    <button onclick="document.getElementById('id02').style.display='block'" class="w3-button w3-button-form w3-black w3-ripple" name="ModificarProducto"> Modificar producto del formulario </button>
                    <button onclick="document.getElementById('id03').style.display='block'" class="w3-button w3-button-form w3-black w3-ripple" name="BorrarProducto"> Borrar producto del formulario </button>
                    <button onclick="document.getElementById('id04').style.display='block'" class="w3-button w3-button-form w3-black w3-ripple" name="VerProductos"> Ver Productos </button>
                </div>
                
                <!-- Añadir Productos -->
                <div id="id01" class="w3-modal">
                    <div class="w3-modal-content">
                      <header class="w3-container w3-black"> 
                        <span onclick="document.getElementById('id01').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h1>Añadir Producto</h1>
                      </header>
                        <form method="POST" th:object="${nuevoProducto}" th:action="@{/añadirProducto}">
                            <div class="w3-container" style="color: black; display: flex; justify-content: center; flex-wrap: wrap;">

                                    <div style="display: flex; justify-content: space-between; width: 60%;">
                                        <h3><b>Nombre: </b></h3>
                                      <input type="text" name="nombre" th:field="*{nombre}" required>
                                    </div>
                                    <div style="display: flex;justify-content: space-between; width: 60%; ">
                                        <h3><b>Descripción: </b></h3>
                                      <input type="text" name="descripcion" th:field="*{descripcion}" required>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; width: 60%; ">
                                        <h3><b>Precio Unitario: </b></h3>
										<input type="number" name="precioUnitario" th:field="*{precioUnitario}" min="0" step="0.1" required>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; width: 60%; ">
                                        <h3><b>Categoria: </b></h3>
                                    <select type="select" name="categorias" th:field="*{categorias}">
     									<option th:each="row : ${categoriasAll}" th:value="${row.id}"><span th:text="${row.nombre}"></span></option>
                                    </select>
                                    </div>

                            </div>
                            <footer class="w3-container w3-black" style="padding-right: 0px;">
                                <div style="display: flex; justify-content: right;">
                                    <button class="w3-button w3-dark-gray" type="submit" name="AñadirProducto">Añadir</button>
                                </div>
                            </footer>
                        </form>
                    </div>
                  </div>
                
                <!-- Modificar Productos -->
                <div id="id02" class="w3-modal">
                    <div class="w3-modal-content">
                      <header class="w3-container w3-black"> 
                        <span onclick="document.getElementById('id02').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h1>Modificar Producto</h1>
                      </header>
                        <form method="POST" th:object="${modificarProducto}" th:action="@{/modificarProducto}">
                            <div class="w3-container" style="color: black; display: flex; justify-content: center; flex-wrap: wrap;">
                                    <div style="display: flex; justify-content: space-between; width: 60%; ">
                                        <h3><b>ID: </b></h3>
                                        <select type="select" name="id">
											<option th:each="row : ${productosAll}" th:value="${row.id}"><span th:text="${row.id} + ' ' + ${row.nombre}"></span></option>
                                        </select>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; width: 60%;">
                                        <h3><b>Nombre: </b></h3>
                                        <input type="text" name="nombre" th:field="*{nombre}" required>
                                    </div>
                                    <div style="display: flex;justify-content: space-between; width: 60%; ">
                                        <h3><b>Descripción: </b></h3>
                                      <input type="text" name="descripcion" th:field="*{descripcion}" required>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; width: 60%; ">
                                        <h3><b>Precio Unitario: </b></h3>
                                      <input type="number" name="precioUnitario" th:field="*{precioUnitario}" min="0" step="0.1" required>
                                    </div>

                            </div>
                            <footer class="w3-container w3-black" style="padding-right: 0px;">
                                <div style="display: flex; justify-content: right;">
                                    <button class="w3-button w3-dark-gray" type="submit" name="ModificarProducto">Modificar</button>
                                </div>
                            </footer>
                        </form>
                    </div>
                  </div>
                
                <!-- Borrar Productos -->
                <div id="id03" class="w3-modal">
                    <div class="w3-modal-content">
                      <header class="w3-container w3-black"> 
                        <span onclick="document.getElementById('id03').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h1>Borrar Producto</h1>
                      </header>
                        <form method="POST" th:action="@{/borrarProducto}">
                            <div class="w3-container" style="color: black; display: flex; justify-content: center; flex-wrap: wrap;">
                                    <div style="display: flex; justify-content: space-between; width: 60%; ">
                                        <h3><b>ID: </b></h3>
                                        <select type="select" name="productoId">
											<option th:each="row : ${productosAll}" th:value="${row.id}">
												<span th:text="${row.id}"></span>
												<span> </span>
												<span th:each="categoria : ${row.categorias}" th:text="${categoria.nombre}"></span>
												<span> </span>
												<span th:text="${row.nombre}"></span>	
											</option>
                                        </select>
                                    </div>
                            </div>
                            <footer class="w3-container w3-black" style="padding-right: 0px;">
                                <div style="display: flex; justify-content: right;">
                                    <button class="w3-button w3-dark-gray" type="submit" name="BorrarProducto">Borrar</button>
                                </div>
                            </footer>
                        </form>
                    </div>
                  </div>
                
               <!-- /Ver Productos -->
                <div id="id04" class="w3-modal">
                    <div class="w3-modal-content">
                      <header class="w3-container w3-black"> 
                        <span onclick="document.getElementById('id04').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h1>Ver Productos</h1>
                      </header>
                        <div class="w3-container" style="color: black; display: flex; justify-content: center; flex-wrap: wrap;">
                            <div style="display:flex; width: 100%;" th:each="row : ${productosAll}">
                                <div style="width: 100%;" >
                                    <h1><b><span class='w3-tag w3-red w3-round' style="font-size: 24px;" th:text="${row.id}"></span><span class="w3-tag w3-white" th:each="categoria : ${row.categorias}" th:text="${categoria.nombre} + ' ' + ${row.nombre}"></span></b><span class='w3-right w3-tag w3-dark-grey w3-round' th:text="${row.precioUnitario} +'€'"></span></h1>
                                    <p class='w3-text-grey' th:text="${row.descripcion}"></p>
                                    <hr>
                                </div>
                            </div>
                                

                        </div>
                        <footer class="w3-container w3-black" style="padding-right: 0px;">
                        </footer>
                    </div>
                  </div>
                
                <h3 class="w3-center"><b>Categorias</b></h3>
                
                <div class="w3-center" style="padding-bottom: 20px; display: flex; flex-direction: row; justify-content: space-between; flex-wrap: wrap">
                    <button onclick="document.getElementById('id05').style.display='block'" class="w3-button w3-button-form w3-black w3-ripple" name="AñadirCategoria"> Añadir categoria al formulario </button>
                    <button onclick="document.getElementById('id06').style.display='block'" class="w3-button w3-button-form w3-black w3-ripple" name="ModificarCategoria"> Modificar categria del formulario </button>
                    <button onclick="document.getElementById('id07').style.display='block'" class="w3-button w3-button-form w3-black w3-ripple" name="BorrarCategoria"> Borrar categoria del formulario </button>
                    <button onclick="document.getElementById('id08').style.display='block'" class="w3-button w3-button-form w3-black w3-ripple" name="VerCategorias"> Ver categorias </button>
                </div>
                
                <!-- Añadir Categorias -->
                <div id="id05" class="w3-modal">
                    <div class="w3-modal-content">
                      <header class="w3-container w3-black"> 
                        <span onclick="document.getElementById('id05').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h1>Añadir Categorias</h1>
                      </header>
                        <form method="POST" th:object="${nuevaCategoria}" th:action="@{/añadirCategoria}">
                            <div class="w3-container" style="color: black; display: flex; justify-content: center; flex-wrap: wrap;">

                                    <div style="display: flex; justify-content: space-between; width: 60%;">
                                        <h3><b>Nombre: </b></h3>
                                      <input type="text" name="nombre" th:field="*{nombre}" required>
                                    </div>

                            </div>
                            <footer class="w3-container w3-black" style="padding-right: 0px;">
                                <div style="display: flex; justify-content: right;">
                                    <button class="w3-button w3-dark-gray" type="submit" name="AñadirCategoria">Añadir</button>
                                </div>
                            </footer>
                        </form>
                    </div>
                  </div>
                
                <!-- Modificar Categorias -->
                <div id="id06" class="w3-modal">
                    <div class="w3-modal-content">
                      <header class="w3-container w3-black"> 
                        <span onclick="document.getElementById('id06').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h1>Modificar Categoria</h1>
                      </header>
                        <form method="POST" th:object="${modificarCategoria}" th:action="@{/modificarCategoria}">
                            <div class="w3-container" style="color: black; display: flex; justify-content: center; flex-wrap: wrap;">
                                    <div style="display: flex; justify-content: space-between; width: 60%; ">
                                        <h3><b>ID: </b></h3>
                                        <select type="select" name="categoriaId" th:field="*{id}">
											<option th:each="row : ${categoriasAll}" th:value="${row.id}">
												<span th:text="${row.id} + ' ' + ${row.nombre}"></span>
											</option>
                                        </select>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; width: 60%;">
                                        <h3><b>Nombre: </b></h3>
                                        <input type="text" name="nombre" th:field="*{nombre}" required>
                                    </div>

                            </div>
                            <footer class="w3-container w3-black" style="padding-right: 0px;">
                                <div style="display: flex; justify-content: right;">
                                    <button class="w3-button w3-dark-gray" type="submit" name="ModificarCategoria">Modificar</button>
                                </div>
                            </footer>
                        </form>
                    </div>
                  </div>
                
                <!-- Borrar Categorias -->
                <div id="id07" class="w3-modal">
                    <div class="w3-modal-content">
                      <header class="w3-container w3-black"> 
                        <span onclick="document.getElementById('id07').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h1>Borrar Categoria</h1>
                      </header>
                        <form method="POST" th:action="@{/borrarCategoria}">
                            <div class="w3-container" style="color: black; display: flex; justify-content: center; flex-wrap: wrap;">
                                    <div style="display: flex; justify-content: space-between; width: 60%; ">
                                        <h3><b>ID: </b></h3>
                                        <select type="select" name="categoriaId">
											<option th:each="row : ${categoriasAll}" th:value="${row.id}">
												<span th:text="${row.id} + ' ' + ${row.nombre}"></span>
											</option>
                                        </select>
                                    </div>

                            </div>
                            <footer class="w3-container w3-black" style="padding-right: 0px;">
                                <div style="display: flex; justify-content: right;">
                                    <button class="w3-button w3-dark-gray" type="submit" name="BorrarCategoria">Borrar</button>
                                </div>
                            </footer>
                        </form>
                    </div>
                  </div>
                
                <!-- /Ver Categorias -->
                <div id="id08" class="w3-modal">
                    <div class="w3-modal-content">
                      <header class="w3-container w3-black"> 
                        <span onclick="document.getElementById('id08').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h1>Ver Categorias</h1>
                      </header>
                        <div class="w3-container" style="color: black; display: flex; justify-content: center; flex-wrap: wrap;">
                            <div style="display:flex; width: 100%;" th:each="row : ${categoriasAll}">
                                <div style="width: 100%;">
                                    <h1><b><span class='w3-tag w3-red w3-round' style="font-size: 24px;" th:text="${row.id}"></span><span class="w3-tag w3-white" th:text="${row.nombre}"></span></b></h1>
                                    <hr>
                                </div>
                            </div>

                                

                        </div>
                        <footer class="w3-container w3-black" style="padding-right: 0px;">
                        </footer>
                    </div>
                  </div>
                
                <h3 class="w3-center"><b>Ver Pedidos</b></h3>
                
                <div class="w3-center" style="padding-bottom: 20px; display: flex; flex-direction: row; justify-content: center;">
                    <button onclick="document.getElementById('id09').style.display='block'" class="w3-button w3-button-form w3-black w3-ripple" name="VerPedidos"> Ver Pedidos </button>
                </div>
                
                <!-- /Ver Pedidos -->
                <div id="id09" class="w3-modal">
                    <div class="w3-modal-content">
                      <header class="w3-container w3-black"> 
                        <span onclick="document.getElementById('id09').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h1>Ver Pedidos</h1>
                      </header>
                        <div class="w3-container" style="color: black; display: flex; justify-content: center; flex-wrap: wrap;">
                            <div style="display:flex; width: 100%;" th:each="row : ${pedidosAll}">
                                <div style="width: 100%; display: flex; flex-direction: row; justify-content: row">
                                    <div style="width:2.5%">
                                            <span class='w3-tag w3-red w3-round' style="font-size: 24px;" th:text="${row.id}"></span>
                                    </div>
                                    <div style="width:97.5%" th:each="usuario : ${row.usuario}">
                                        <span class="w3-tag w3-white" style="font-size: 24px; width: 19%;" th:utext="'<strong>Nombre: </strong>' + ${usuario.nombre}"></span>
                                        <span class="w3-tag w3-white" style="font-size: 24px; width: 19%;" th:utext="'<strong>DNI: </strong>' + ${usuario.dni}"></span>
                                        <span class="w3-tag w3-white" style="font-size: 24px; width: 19%;" th:utext="'<strong>Precio Total: </strong>' + ${row.precioTotal} + '€'"></span>
                                        <span class="w3-tag w3-white" style="font-size: 24px; width: 19%;" th:utext="'<strong>Estado: </strong>' + ${row.estado}"></span>
                                        <span class="w3-tag w3-white" style="font-size: 24px; width: 19%;" th:utext="'<strong>Fecha: </strong>' + ${row.fecha}"></span>
                                    </div>
                                        
                                    <hr>
                                </div>
                            </div>                            
                                

                        </div>
                        <footer class="w3-container w3-black" style="padding-right: 0px;">
                        </footer>
                    </div>
                  </div>
            </div>
        </main>
    </body>
</html>